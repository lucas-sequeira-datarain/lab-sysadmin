{
    "Version":"2012-10-17",
    "Statement":[
        {
            "Sid":"UseVpcConsole",
            "Effect":"Allow",
            "Action":[
                "ec2:DescribeAccountAttributes",
                "ec2:DescribeAddresses",
                "ec2:DescribeAvailabilityZones",
                "ec2:DescribeClassicLinkInstances",
                "ec2:DescribeClientVpnEndpoints",
                "ec2:DescribeCustomerGateways",
                "ec2:DescribeDhcpOptions",
                "ec2:DescribeEgressOnlyInternetGateways",
                "ec2:DescribeFlowLogs",
                "ec2:DescribeInternetGateways",
                "ec2:DescribeManagedPrefixLists",
                "ec2:DescribeMovingAddresses",
                "ec2:DescribeNatGateways",
                "ec2:DescribeNetworkAcls",
                "ec2:DescribeNetworkInterfaceAttribute",
                "ec2:DescribeNetworkInterfacePermissions",
                "ec2:DescribeNetworkInterfaces",
                "ec2:DescribePrefixLists",
                "ec2:DescribeRouteTables",
                "ec2:DescribeSecurityGroupReferences",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSecurityGroupRules",
                "ec2:DescribeStaleSecurityGroups",
                "ec2:DescribeSubnets",
                "ec2:DescribeTags",
                "ec2:DescribeTrafficMirrorFilters",
                "ec2:DescribeTrafficMirrorSessions",
                "ec2:DescribeTrafficMirrorTargets",
                "ec2:DescribeTransitGateways",
                "ec2:DescribeTransitGatewayVpcAttachments",
                "ec2:DescribeTransitGatewayRouteTables",
                "ec2:DescribeVpcAttribute",
                "ec2:DescribeVpcClassicLink",
                "ec2:DescribeVpcClassicLinkDnsSupport",
                "ec2:DescribeVpcEndpoints",
                "ec2:DescribeVpcEndpointConnectionNotifications",
                "ec2:DescribeVpcEndpointConnections",
                "ec2:DescribeVpcEndpointServiceConfigurations",
                "ec2:DescribeVpcEndpointServicePermissions",
                "ec2:DescribeVpcEndpointServices",
                "ec2:DescribeVpcPeeringConnections",
                "ec2:DescribeVpcs",
                "ec2:DescribeVpnConnections",
                "ec2:DescribeVpnGateways",
                "ec2:GetManagedPrefixListAssociations",
                "ec2:GetManagedPrefixListEntries"
            ],
            "Resource":"*"
        },
        {
            "Sid":"CreateVpcWithPublicSubnet",
            "Effect":"Allow",
            "Action":[
                "ec2:CreateVpc",
                "ec2:CreateSubnet",
                "ec2:DescribeAvailabilityZones",
                "ec2:CreateRouteTable",
                "ec2:CreateRoute",
                "ec2:CreateInternetGateway",
                "ec2:AttachInternetGateway",
                "ec2:AssociateRouteTable",
                "ec2:ModifyVpcAttribute"
            ],
            "Resource":"*"
        },
        {
            "Sid":"ModifyDeleteVpcResourcesIGW",
            "Effect":"Allow",
            "Action":"ec2:DeleteInternetGateway",
            "Resource":"arn:aws:ec2:*:*:internet-gateway/*",
            "Condition":{
                "StringEquals":{
                    "ec2:ResourceTag/author":"lsequeira"
                }
            }
        },
        {
            "Sid":"ModifyDeleteVpcResourcesRT",
            "Effect":"Allow",
            "Action":[
                "ec2:DeleteRouteTable",
                "ec2:CreateRoute",
                "ec2:ReplaceRoute",
                "ec2:DeleteRoute"
            ],
            "Resource":"arn:aws:ec2:*:*:route-table/*",
            "Condition":{
                "StringEquals":{
                    "ec2:ResourceTag/author":"lsequeira"
                }
            }
        },
        {
            "Sid":"ManageSecurityGroupsDescribeSG",
            "Effect":"Allow",
            "Action":[
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSecurityGroupRules",
                "ec2:DescribeVpcs"
            ],
            "Resource":"*"
        },
        {
            "Sid":"ManageSecurityGroupsManageSG",
            "Effect":"Allow",
            "Action":[
                "ec2:AuthorizeSecurityGroupIngress",
                "ec2:RevokeSecurityGroupIngress",
                "ec2:UpdateSecurityGroupRuleDescriptionsIngress",
                "ec2:AuthorizeSecurityGroupEgress",
                "ec2:RevokeSecurityGroupEgress",
                "ec2:UpdateSecurityGroupRuleDescriptionsEgress",
                "ec2:ModifySecurityGroupRules",
                "ec2:DeleteSecurityGroup"
            ],
            "Resource":"arn:aws:ec2:*:*:security-group/*",
            "Condition":{
                "StringEquals":{
                    "ec2:ResourceTag/author":"lsequeira"
                }
            }
        },
        {
            "Sid":"ManageSecurityGroupsCreateSG",
            "Effect":"Allow",
            "Action":[
                "ec2:CreateSecurityGroup"
            ],
            "Resource":"arn:aws:ec2:*:*:security-group/*",
            "Condition":{
                "StringEquals":{
                    "aws:RequestTag/author":"lsequeira"
                },
                "ForAllValues:StringEquals":{
                    "aws:TagKeys":[
                        "lsequeira"
                    ]
                }
            }
        },
        {
            "Sid":"ManageSecurityGroupsCreateTags",
            "Effect":"Allow",
            "Action":[
                "ec2:CreateTags"
            ],
            "Resource":"arn:aws:ec2:*:*:security-group/*",
            "Condition":{
                "StringEquals":{
                    "ec2:CreateAction":"CreateSecurityGroup"
                }
            }
        },
        {
            "Sid":"ManageSecurityGroupRules",
            "Effect":"Allow",
            "Action":[
                "ec2:AuthorizeSecurityGroupIngress",
                "ec2:RevokeSecurityGroupIngress",
                "ec2:UpdateSecurityGroupRuleDescriptionsIngress",
                "ec2:AuthorizeSecurityGroupEgress",
                "ec2:RevokeSecurityGroupEgress",
                "ec2:UpdateSecurityGroupRuleDescriptionsEgress",
                "ec2:ModifySecurityGroupRules"
            ],
            "Resource":"arn:aws:ec2:us-east-1:685463979595:security-group/*",
            "Condition":{
                "ArnEquals":{
                    "ec2:Vpc":"arn:aws:ec2:us-east-1:685463979595:vpc/vpc-id"
                }
            }
        },
        {
            "Effect":"Allow",
            "Action":[
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSecurityGroupRules",
                "ec2:DescribeTags"
            ],
            "Resource":"*"
        }
    ]
}